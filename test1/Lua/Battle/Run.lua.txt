--serpent = require("Utils.serpent")
--require("Utils.global")



-- 生成玩家
local function BattleCreatePlayer()
print("BattleCreatePlayer")
    return true
end

-- 生成敌人
local function BattleCreateEnemy()
    print("BattleCreateEnemy")
    return true
end

-- 玩家跑
local function BattlePlayerRun()
    print("BattlePlayerRun")
    return true
end

-- 进入战斗区域
local function BattleStartAttackRing()
    print("BattleStartAttackRing")
    return true
end

-- 敌人开始进攻
local function BattleEnemyAttack()
    print("BattleEnemyAttack")
    return true
end

-- 敌人全灭
local function BattleEnemyAllDead()
    print("BattleEnemyAllDead")
    return true
end

-- 胜利动画
local function BattleWin()
    print("BattleWin")
    return true
end




-------------------------------绑定关系-----------------------------------------



function BattleInit(file)
    local binder = {
        BattleCreatePlayer = BattleCreatePlayer,
        BattleCreateEnemy = BattleCreateEnemy,
        BattlePlayerRun = BattlePlayerRun,
        BattleStartAttackRing = BattleStartAttackRing,
        BattleEnemyAttack = BattleEnemyAttack,
        BattleEnemyAllDead = BattleEnemyAllDead,
        BattleWin = BattleWin,
    }
    local btroot = bt.LoadFromLua(file, binder)
    btroot:activate(binder)
    return btroot
end

function BattleUpdate(dt, btroot)
    print("---------------------------------------------BattleUpdate--------------------------------------------------------------")
    if btroot:evaluate() then
        btroot:tick(dt)
    end
end

